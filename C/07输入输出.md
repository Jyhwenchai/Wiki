# 输入输出

* `scanf`、`printf`
* 输入/输出缓冲
* `getchar`、`putchar`
* `cat` 示例
* `wc` 示例

## `scanf`、`printf`

### `printf`

* 功能：格式化输出
* 函数原型：`int printf(const char *format, ...)`，
  其中 `format` 是控制字符串，`...` 是参数列表
  * 控制字符串：包含格式的命令，以 `%` 符号开始，随后紧跟与数据项相应的格式代码
* 返回值：输出的字符个数

|格式|描述|
|--|--|
|d, i|int类型；十进制|
|o|八进制输出|
|x, X|十六进制输出|
|u|int类型，无符号十进制|
|c|输出单个字符|
|s|输出字符串|
|f|浮点数；十进制小数[-]m.dddddd, 其中d的个数由精度指定（默认为6）|
|e, E|浮点数，[-]m.dddddd e ± xx 或 [-]m.dddddd E ± xx，其中d的个数由精度觉得（默认为6）|
|g, G|浮点数，如果指数小于 -4或大于等于精度，则用 %e或%E格式输出，否则用 %f 格式输出。尾部的0和小数点不打印|
|p|打印一个地址|
|%|不转换，就是打印个百分号|

#### 修饰符

* 字符宽度修饰符，如`printf("%4d", 500)`、`printf("%04d", 500)`
  * 可以用于浮点型、双精度型和字符数组型
  * 范围宽度修饰符是一个整数，定义了数据项的最大范围宽度
* `-` 修饰符，如 `printf("%-d", 500)`
  * 数据项在范围内左对齐，从范围最左侧的位置开始输出数据项
* 精度修饰符，如 `printf("%.2f", 3.1415926)`
  * 可以用在浮点型、双精度或字符数组型
  * 如果用在浮点型或双精度型数据中，数字字符串表示小数右侧最多可输出的数字位数
* `0` 修饰符：字段默认使用空格做为填充符。如果希望用零做为填充符，需要使用此修饰符
* `l` 修饰符：可以借助此修饰符将整数显示为长整型或双精度型参数。相应的格式化代码为 `%ld`
* `h` 修饰符：此修饰符用于显示短整数，相应的格式化代码为 `%hd`
* `*` 修饰符：如果用户不希望预先指定字段的宽度，而希望程序来指定，则需要用到此修饰符。如：`printf("%.*s\n", max, "hello world")`

## `scanf`

* 功能：格式化输入
* 函数原型：`int scanf(const char *format, ...)`，
  其中 `format` 是控制字符串，`...` 是参数列表
  * 控制字符串：包含格式的命令，以 `%` 符号开始，随后紧跟与数据项相应的格式代码
* 返回值：输入成功的参数个数

|格式|描述|
|--|--|
|d|十进制整数；int*类型|
|i|整数：int*类型，可以是八进制（以0开头）或十六进制（以0x或0X开头）|
|o|八进制整数（可以以0开头，也可以不以0开头）|
|u|无符号十进制整数；unsigned int 类型|
|c|字符|
|s|字符串|
|e,f,g|浮点数，float*, 这三者没有区别|
|%|字符 % |

## 输入/输出缓冲

缓冲区(流)负责在输入/输出设备和程序之间简历联系

* 输入设备->内存缓冲区（stdin）-> 程序
* 程序->内存缓冲区（stdout）-> 输出设备 

缓冲区(流)是一块临时的存储区域

### 控制台输入/输出

* `getchar()`：从键盘读取一个字符
* `putchar()`：在屏幕上输出一个字符

#### `getchar()`

函数原型：`int getchar(void)`
函数功能：从终端输入一个字符
返回值：返回输入字符的 ASCII 码，可以使用字符变量或者整形变量接收
其它说明：`getchar()`会缓冲字符，直到用户按**回车键**。虽然可以输入多个字符，但函数只会接受第一个字符

#### `putchar()`

函数原型：`int puttchar(int c)`
函数功能：从终端输出一个字符，且转换成 ASCII 码返回
函数参数：其中 c 要输出的字符，可以是字符型常量、字符型变量、整形常量、整形变量表达式、转义字符等。

```c
int main(void)
{
    char c = 'A';
    putchar(c);
    putchar('A');
    putchar(65);
    putchar('6');
    putchar('\t');

    return 0;
}
```

## Cat 示例

```c
int main(void)
{
    int ch;
    while((ch = getchar()) != EOF)
        putchar(ch);
    return 0;
}
```

## wc 示例

```c
#include <stdio.h>
#define IN 1
#define OUT 0

int main(void)
{
    int c, nl, nw, nc, state;
    state = OUT;
    nl = nw = nc = 0;
    while((c = getchar()) != EOF)
    {
        ++nc;
        if ((c == '\n'))
            ++nl;
        if (c == ' ' || c == '\n' || c == '\t')
            state = OUT;
        else if (state == OUT)
        {
            state = IN;
            ++nw;
        }
    }

    printf("\t%d\t%d\t%d\n", nl, nw, nc);
}
```
