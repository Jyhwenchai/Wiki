# 数据表示

我们人类很容易理解 10 这个数字，但是计算机却无法识别，计算机只能识别 0 和 1。所以我们需要将 10 转换成以 0 和 1 出现的序列，这样计算机才能够识别。这个转换的过程就叫做**编码**。相反的我们将 0 和 1 转换回 10 的这一过程就叫做**解码**。

* 进制
* 进制转换
* 字长
* 原码、反码、补码

## 进制

进制是人们规定的一种进位方法。对于任何一种进制 `x进制`，那么就表示在运算时逢 x 进一位。十进制就是逢十进一，二进制就是逢二进一，十六进制就是逢十六进一。

* 十进制：0 - 9
* 二进制：0 - 1
* 八进制：0 - 7
* 十六进制：0 - 15

## 进制转换

* 二、八、十六进制转换为十进制
* 十进制转换为二、八、十六进制
* 二、八、十六进制互转

### 二、八、十六进制转换为十进制

对于十进制有如下算法：
> 其中对应的权是 10
> 123 = 1 \* 10$^{2}$ + 2 \* 10$^{1}$ \+ 10$^{0}$

二进制转十进制：
> 其中对应的权为 2
> 1010$_{2}$ = 1 \* 2$^{3}$ \+ 0 \* 2$^{2}$ \+ 1 \* 2$^{1}$ \+ 0 \* 2$^{0}$  = 10

十六进制转十进制：
> 其中权为 16
> 2F$_{16}$ = 2 \* 16$^{1}$ \+ 15 \* 16$^{0}$ = 47

### 十进制转为二、八、十六进制

例如将70转换成二进制。
2|<u>70</u>                 **低位**
2|<u>35</u>    余数为0
2|<u>17</u>    余数为1
2|<u>8</u>     余数为1
2|<u>4</u>     余数为0
2|<u>2</u>     余数为0
2|<u>1</u>     余数为0
2|<u>0</u>     余数为1, 商为0结束计算。**高位**

__最终得出(70)$_{10}$ = (1000110)$_{2}$__

同理将70转为十六进制也是类似
16|<u>70</u>                 **低位**
16|<u>4</u>    余数为6
16|<u>0</u>    余数为4, 商为0结束计算。**高位**

__所以最终(70)$_{10}$ = (46)$_{16}$__

### 二、八、十六进制的互转

* 由于八进制是从0到7，而`7`用二进制表示就是 `111`，所以我们可以用三位的二进制来表示八进制。
* 十六进制是从0到15，而`15`用二进制表示就是 `1111`，所以我们可以用四位二进制来表示十六进制

## 原码、反码、补码

* 为了表示负数，将最高位解释为符号位
* 正数的原码、反码、补码均相同
* 对于负数，已知原码求反码，符号位不变，其它位按位求反
* 对于负数，已知原码求补码，先求反码，再在反码末位加1
* 用补码表示的目的是减法运算可以统一为加法运算

下面是 10 和 -10 的原码反码补码的表示
> 对于 10 它的二进制是 00001010，它的原码、反码和补码都是 00001010.
> 对于 -10 它的二进制是 10001010，他的原码就是 10001010，补码是 11110101，补码是 11110110

### 整数的加减运算

我们用补码来对整数进行加减的运算。例如: 对于 5 - 10，我们可以表示为 5 + (-10)，那么其底层的运算方式如下：

> 5 的补码为   00000101
> -10 的补码为 11110110
> 那么它们的补码相加后的结果为 11111011
> 由于首位是1表示这个结果为负数，所以现在我们把结果-1转为反码为 11111010
> 再将除了首位不变，其它位取反得到原码为：10000101
> 最后转换为十进制得到 (10000101)$_{2}$ = -5$_{10}$

### 特殊的数值

* 0：在计算机中的表示为 00000000
* -1：在计算中的表示为  11111111
* -128: 在计算中的表示为 10000000
* 127：在计算中的表示为  01111111

#### 注意: 当 127 + 1 发生溢出后其结果是 -128

> 128 的原码为：10000000，由于最高位是符号位，这里是1被计算机看做是负数所以其表示的反码为：11111111，加1后溢出舍弃最高位后其补码为10000000。这个结果正好为 -128 的补码。

对于负数的二进制，我们也可以使用之前展开式得到其十进制的值：
> -1 的补码为 11111111，其十进制为:
> (1111111)$_{2}$ = -1 * 2$^{7}$ + 2$^{6}$ + 2$^{5}$ + 2$^{4}$ + 2$^{3}$ + 2$^{2}$ + 2$^{1}$ + 2$^{0}$ = -1
> 这里跟正数的展开式唯一不同的地方是第一项是乘以-1
